<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Formular</title>
</head>

<body>
    <!-- NAV BAR -->
    <nav>
        <div>
            <a href="main.html" title="Homepage">
                <img src="images/menu-2.png" alt="burger menu button" class="navImg">
            </a>
            <img src="images/einkaufswagen.png" alt="cart" class="navImg" id="cartImg">
            <a href="formular1.html" title="User Login">
                <img src="images/user.png" alt="user" class="navImg" id="userImg">
            </a>
            <h1 id="brandLogo">STUDENT COFFEE</h1>
        </div>
    </nav>
    <!-- MAIN CONTENT -->
    <div id="contentContainer">
        <div class="insideContainer">
            <!-- Registrieren -->
            <section>
                <form method="get">
                    <table>
                        <caption>Als Kunde registrieren</caption>
                        <tbody>
                            <tr>
                                <td><label for="gender">Geschlecht </label></td>
                                <td>
                                    <input type="radio" name="geschlecht" value="f" id="female"> <label for="female">Frau</label>
                                    <input type="radio" name="geschlecht" value="m" id="male"> <label for="male">Mann</label>
                                </td>
                            </tr>
                            <tr>
                                <td><label for="vorname">Vorname </label></td>
                                <td><input type="text" name="vorname" id="vorname"></td>
                            </tr>
                            <tr>
                                <td><label for="nachname">Nachname </label></td>
                                <td><input type="text" name="nachname" id="nachname"></td>
                            </tr>
                            <tr>
                                <td><label for="email">Email</label></td>
                                <td><input type="email" name="email" id="email"></td>
                            </tr>
                            <tr>
                                <td><label for="passwort">Passwort</label></td>
                                <td><input type="password" name="passwort" id="passwort"></td>
                            </tr>
                            <tr>
                                <td><label for="passwort">Passwort best채tigen</label></td>
                                <td><input type="password" name="confirmPasswort" id="confirmPasswort"></td>
                            </tr>
                        </tbody>
                    </table>
                </form>
                <p id="keinvorname" style="color:red;"></p>
                <p id="noLastName" style="color:red;"></p>
                <p id="noPassword" style="color:red;"></p>
                <br>
                <button type="button" href="#" onclick="passwordValidation(event)" value="Registrieren"></button>
                <script>
                    window.addEventListener("load", setup);

                    function setup() {
                        document.getElementById("vorname").addEventListener("change", validName);
                        document.getElementById("nachname").addEventListener("change", validName);
                        document.getElementById("passwort").addEventListener("change", validPassword);

                        document.getElementById("vorname").addEventListener("focus", clearFirstName);
                        document.getElementById("nachname").addEventListener("focus", clearLastName);
                        document.getElementById("passwort").addEventListener("focus", clearPassword);
                    }

                    /* Name Control */
                    function validName() {
                        var allowedVocab = /^[A-Z]([a-z]*)$/;

                        var vorname = document.getElementById("vorname").value;
                        var nachname = document.getElementById("nachname").value;
                        if (!vorname.match(allowedVocab)) {
                            document.getElementById("keinvorname").innerHTML = "Ung체ltiger Vorname";
                        } else if (!nachname.match(allowedVocab)) {
                            document.getElementById("noLastName").innerHTML = "Ung체ltiger Nachname";
                        }
                    }

                    function clearFirstName() {
                        document.getElementById("keinvorname").innerHTML = "";
                    }

                    function clearLastName() {
                        document.getElementById("noLastName").innerHTML = "";
                    }

                    function clearPassword() {
                        document.getElementById("noPassword").innerHTML = "";
                    }


                    /* Password Control */
                    function validPassword() {
                        var allowedPassword = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{5,}$/;

                        var passwort = document.getElementById("passwort").value;
                        if (!passwort.match(allowedPassword)) {
                            document.getElementById("noPassword").innerHTML = "Ung체ltiges Passwort";
                        }
                    }

                    /* Compare Passwords */
                    function passwordValidation(ev) {
                        ev.preventDefault
                        var nameValue = "test";
                        var passValue = document.getElementById("password").value
                        var confpassValue = document.getElementById("confirmPassword").value
                            // the typeof operator returns a string.
                        if (typeof nameValue !== "string") {
                            window.alert("Please re-enter your name")
                                // we use strict validation ( !== ) because it's a good practice.
                        } else if (passValue !== confpassValue) {
                            window.alert("Passwords do not match!")
                        }
                    }
                </script>
            </section>
        </div>
    </div>
    <script>
        src = "script.js"
    </script>
</body>

</html>